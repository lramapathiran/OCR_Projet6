<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:insert="fragments/componentsRessources.html :: headVisit">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Les Sites-LADE</title>
    <meta name="description" content="">
  </head>
  <body>
    <!-- navbar-->
     <header id="header2" class="fixed-top" th:insert="fragments/componentsAdmin.html :: headerVisitAdmin"></header>
    
    <div class="d-flex align-items-stretch">
      <div id="sidebar" class="sidebar py-3" th:insert="fragments/componentsAdmin.html :: sidebar-connected"></div>
      <div class="page-holder w-100 d-flex flex-wrap">
        <div class="container-fluid px-xl-5">
        	  <section class="py-5" th:insert="fragments/componentsAdmin.html :: dashboard-data"></section>
	          <section class="py-5">
	          	<div class="table-responsive">
		            <div class="row">
		              <div class="col-lg-9 mb-5">
		                <div class="card">
		                  <div class="card-header">
		                    <h6 class="text-uppercase mb-0">Liste des Sites</h6>
		                  </div>
		                  <div class="card-body">                           
		                    <table class="table table-striped table-hover card-text">
		                      <thead>
								<tr>
									<th>Nom</th>
									<th>Region</th>
									<th>Département</th>
									<th>Ville</th>
									<th>Voies</th>
									<th>Equipé</th>
									
								</tr>
							  </thead>
		                      <tbody>
								<tr th:each="site : ${sitesPage}">
									<td><a target="_blank" th:href="@{/site/{id}(id = ${site.id})}" th:utext = "${site.siteName}"></a>...</td>
									<td th:utext = "${site.region}">...</td>
									<td th:utext = "${site.department}">...</td>
									<td th:utext = "${site.city}">...</td>
									<td th:utext = "${site.areasNumber}">...</td>
									<td>
										<span th:if="${site.equipped}">Oui</span>
										<span th:unless="${site.equipped}">Non</span>
									</td>
								</tr>
							  </tbody>
		                    </table>
		                    <br>
		                    <div class="text-center">
		                    	Total de Sites : [[${totalSites}]] - Page : [[${currentPage}]]/[[${totalPages}]]
		                    	&nbsp; - &nbsp;
		                    	<span>
		                    		<a th:if="${currentPage > 1}" th:href="@{/sites(userId = ${user.id},pageNumber=${currentPage - 1})}">Précédent</a>
		                    		<span th:unless="${currentPage > 1}">Précédent</span> &nbsp; - &nbsp;
		                    	</span>
		                    	<span th:each="i: ${#numbers.sequence(1,totalPages)}">
		                    		<a th:if="${i != currentPage}" th:href="@{/sites(userId = ${user.id},pageNumber=${i})}">[[${i}]]</a>
		                    		<span th:unless="${i != currentPage}">[[${i}]]</span> &nbsp; - &nbsp;
		                    	</span>
		                    	<span>
		                    		<a th:if="${currentPage != totalPages}" th:href="@{/sites(userId = ${user.id},pageNumber=${currentPage + 1})}">Suivant</a>
		                    		<span th:unless="${currentPage != totalPages}">Suivant</span> &nbsp; - &nbsp;
		                    	</span>
		                    	<span>
		                    		<a th:if="${currentPage != totalPages}" th:href="@{/sites(userId = ${user.id},pageNumber=${totalPages})}">Dernier</a>
		                    		<span th:unless="${currentPage != totalPages}">Dernier</span> &nbsp; - &nbsp;
		                    	</span>
		                    </div> 
		                  </div>
		                </div>
		              </div> 
		            </div>
		           </div>
	            
	
	          </section>
        </div>
        <footer class="footer bg-white shadow align-self-end py-3 px-xl-5 w-100" th:insert="fragments/componentsAdmin.html :: footer-connected"></footer>
      </div>
    </div>
    <!-- JavaScript files-->
    <th:block th:replace="fragments/componentsRessources.html :: js-scriptVisit"></th:block>
  </body>
</html>