<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<head></head>
	<body>
		  
		  	  <!-- ======= Header for Home page once connected======= -->
	      <div class="navbar2 row d-flex" th:fragment="headerHomePageConnected">
	
	        <div class="logo row navigation-visit">
	      	  <a href="/" class="logo-visit"><img th:src="@{/assets/img/logo.png}" alt="" class="img-fluid-visit"></a>
	          <h1 class="text-light"><a href="/"><span class="logo">Les Amis de l'Escalade</span></a></h1>
	        </div>
	
	        <div>
		        <nav class="nav-home-connected nav-menu menu d-none d-lg-block">
		          <ul>
		            <li class="active"><a href="/">Accueil</a></li>
		            <li><a th:href="@{/showSites/1}">Les Sites</a></li>
		            <li><a th:href="@{/showTopos(pageNumber=1)}">Les Topos</a></li>
		            <li><a href="#footer">Contacts</a></li>
		
		          </ul>
		        </nav><!-- .nav-menu -->
		   	</div>
		        
	        <div class="ml-auto d-flex align-items-center list-unstyled mb-0 user-name-home">
		      <div><a th:href="@{/user}">
			      <span th:utext="${user.firstName}"></span>&nbsp;
		          <span th:utext="${user.lastName}"></span></a>
	          </div>
	          <span><a th:href="@{/logout}" ><img th:src="@{/assets/img/icons8-déconnexion-arrondi-40.png}" alt="none" class="img-fluid-visit"></a></span>
		    </div>	
	      </div><!-- End Header for Home page once connected -->
	      
	      <!-- ======= Header mix admin/visit ======= -->
	    <div class="navbar2" th:fragment="headerVisitAdmin">
		  <div><a href="#" class="sidebar-toggler text-gray-500 mr-4 mr-lg-5 lead"><i class="fas fa-align-left"></i></a></div>
	      <div class="logo-connected row p-2">
	      	<a href="/"><img th:src="@{/assets/img/logo.png}" alt="" class="img-fluid"></a>
	        <h1 class="text-light"><a href="/"><span class="logo logo-name">Les Amis de l'Escalade</span></a></h1>
	      </div>
		  
	      <nav class="nav-admin nav-menu mr-auto d-none d-lg-block">
	        <ul>
	          <li class="active"><a href="/">Accueil</a></li>
	          <li><a th:href="@{/showSites/1}">Les Sites</a></li>
	          <li><a th:href="@{/showTopos(pageNumber=1)}">Les Topos</a></li>
	          <li><a href="#footer">Contacts</a></li>
	
	        </ul>	        
	      </nav><!-- .nav-menu -->
	      
	      <div class="user-name d-flex align-items-center list-unstyled mb-0" style="color:white">
	      	<span th:utext="${user.firstName}"></span>&nbsp;
          	<span th:utext="${user.lastName}"></span>
	      </div>
	    </div><!-- End Header mix admin/visit-->	
	
	      
<!-- 	      sidebar -->
		  <div  th:fragment = "sidebar-connected">
	        <div class="text-gray-400 text-uppercase px-3 px-lg-4 py-4 font-weight-bold small headings-font-family side-menu">MENU</div>
	        <ul class="sidebar-menu list-unstyled">
	              <li class="sidebar-list-item"><a th:href="@{/user}" class="sidebar-link text-muted active"><i class="o-home-1 mr-3 text-gray"></i><span>Home</span></a></li>
	              <li class="sidebar-list-item"><a th:href="@{/user/sites}" class="sidebar-link text-muted"><i class="fas fa-map-marked-alt mr-3 text-gray"></i><span>Mes Sites</span></a></li>
	              <li class="sidebar-list-item"><a th:href="@{/user/topos}" class="sidebar-link text-muted"><i class="fas fa-book-open mr-3 text-gray"></i><span>Mes Topos</span></a></li>
	              <li class="sidebar-list-item"><a th:href="@{/logout}" class="sidebar-link text-muted"><i class="o-exit-1 mr-3 text-gray"></i><span>Déconnexion</span></a></li>
	        </ul>
	        <div sec:authorize="hasAuthority('ADMIN')">
		        <div class="text-gray-400 text-uppercase px-3 px-lg-4 py-4 font-weight-bold small headings-font-family">MEMBRE</div>
		        <ul class="sidebar-menu list-unstyled">
		              <li class="sidebar-list-item"><a th:href="@{/users(pageNumber=1)}" class="sidebar-link text-muted"><i class="o-database-1 mr-3 text-gray"></i><span>Les Utilisateurs</span></a></li>
		              <li class="sidebar-list-item"><a th:href="@{/sites(pageNumber=1)}" class="sidebar-link text-muted"><i class="fas fa-map-marked-alt mr-3 text-gray"></i><span>Les Sites</span></a></li>
		              <li class="sidebar-list-item"><a th:href="@{/topos(pageNumber=1)}" class="sidebar-link text-muted"><i class="fas fa-book-open mr-3 text-gray"></i><span>Les Topos</span></a></li>
		        </ul>
	        </div>
      	  </div>
      	  
<!--       	  top data on dashboard -->
		  <div class="row dashboard-data" th:fragment = "dashboard-data">
            <div class="col-xl-3 col-lg-6 mb-4 mb-xl-0">
              <div class="bg-white shadow roundy p-4 h-100 d-flex align-items-center justify-content-between">
                <div class="flex-grow-1 d-flex align-items-center">
                  <div class="dot mr-3 bg-violet"></div>
                  <div class="text">
                    <h6 class="mb-0">Sites à mon actif</h6>
                    <span th:if = "${sitesCount} > 0" class="text-gray" th:utext="${sitesCount}"></span>
                    <span th:unless = "${sitesCount} > 0" class="text-gray">Aucun</span>
                  </div>
                </div>
                <div class="icon text-white bg-violet"><i class="fas fa-mountain"></i></div>
              </div>
            </div>
            <div class="col-xl-3 col-lg-6 mb-4 mb-xl-0">
              <div class="bg-white shadow roundy p-4 h-100 d-flex align-items-center justify-content-between">
                <div class="flex-grow-1 d-flex align-items-center">
                  <div class="dot mr-3 bg-green"></div>
                  <div class="text">
                    <h6 class="mb-0">Topos à mon actif</h6>
                    <span th:if = "${toposCount} > 0" class="text-gray" th:utext="${toposCount}"></span>
                    <span th:unless = "${toposCount} > 0" class="text-gray">Aucun</span>
                  </div>
                </div>
                <div class="icon text-white bg-green"><i class="fas fa-map"></i></div>
              </div>
            </div>
            <div class="col-xl-3 col-lg-6 mb-4 mb-xl-0">
              <div class="bg-white shadow roundy p-4 h-100 d-flex align-items-center justify-content-between">
                <div class="flex-grow-1 d-flex align-items-center">
                  <div class="dot mr-3 bg-blue"></div>
                  <div class="text">
                    <h6 class="mb-0">Commentaires à mon actif</h6>
                    <span th:if = "${commentsCount} > 0" class="text-gray" th:utext="${commentsCount}"></span>
                    <span th:unless = "${commentsCount} > 0" class="text-gray">Aucun</span>
                  </div>
                </div>
                <div class="icon text-white bg-blue"><i class="fas fa-comment-alt"></i></div>
              </div>
            </div>
            <div class="col-xl-3 col-lg-6 mb-4 mb-xl-0">
              <div class="bg-white shadow roundy p-4 h-100 d-flex align-items-center justify-content-between">
                <div class="flex-grow-1 d-flex align-items-center">
                  <div class="dot mr-3 bg-red"></div>
                  <div class="text">
                    <h6 class="mb-0">Réservation en attente</h6>
                    <span th:if = "${toposToReserve} > 0" class="text-gray" th:utext="${toposToReserve}"></span>
                    <span th:unless = "${toposToReserve} > 0" class="text-gray">Aucune</span>
                    
                  </div>
                </div>
                <div class="icon text-white bg-red"><i class="far fa-calendar-check"></i></div>
              </div>
            </div>
          </div>
	      
<!-- 	      Javascript  -->
	      <th:block th:fragment="js-script">      
		    <script th:src="@{/static/vendor/jquery/jquery.min.js}"></script>
		    <script th:src="@{/vendor/popper.js/umd/popper.min.js}"> </script>
		    <script th:src="@{/vendor/bootstrap/js/bootstrap.min.js}"></script>
		    <script th:src="@{/vendor/jquery.cookie/jquery.cookie.js}"> </script>
		    <script th:src="@{/vendor/chart.js/Chart.min.js}"></script>
		    <script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>
		    <script th:src="@{/js/charts-home.js}"></script>
		    <script th:src="@{/js/front.js}"></script>
		  </th:block>
	    
	</body>
</html>