<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head th:insert="fragments/componentsAdmin.html :: head-connected"> 
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Mes Sites</title>
  </head>
  
  <body>
    <!-- navbar-->
	<header class="header" th:insert="fragments/componentsAdmin.html :: nav-connected"></header>
	
    <div class="d-flex align-items-stretch">
	  <div id="sidebar" class="sidebar py-3" th:insert="fragments/componentsAdmin.html :: sidebar-connected"></div>
      <div class="page-holder w-100 d-flex flex-wrap">
        <div class="container-fluid px-xl-5">
          <section class="py-5" th:insert="fragments/componentsAdmin.html :: dashboard-data"></section>
          
          <section>
            <div class="row mb-4">
              <div class="col-lg-7 mb-4 mb-lg-0">
                <div class="card">
                  <div class="card-header">
                  	<div class="row">
                  		<div class="col-md-6 text-center">
				            <h6 class="text-uppercase mb-0">
				            	<span class="float-md-left">Ma Liste de Sites</span>
				            </h6>
				        </div>
				        <div class="col-md-6 text-center">
				            <span class="float-md-right">
				            	<a th:href="@{/createSite(userId = ${user.id})}"><button type="button" class="btn btn-secondary">Ajouter un Site</button></a>
				            </span>
				        </div>
 					</div>                 
                  </div>
                  <div class="card-body">                           
                    <table class="table table-striped table-hover card-text">
                      <thead>
						<tr>
							<th>Nom</th>
							<th>Region</th>
							<th>Département</th>
							<th>Ville</th>
							<th>Voies</th>
							<th>Equipé</th>
							<th>Topo</th>
							
						</tr>
					</thead>
                      <tbody>
						<tr th:each="site : ${listUserSites}">
							<td th:utext = "${site.siteName}">...</td>
							<td th:utext = "${site.region}">...</td>
							<td th:utext = "${site.department}">...</td>
							<td th:utext = "${site.city}">...</td>
							<td th:utext = "${site.areasNumber}">...</td>
							<td>
								<span th:if="${site.equipped}">Oui</span>
								<span th:unless="${site.equipped}">Non</span>
							</td>
							<td><a th:href="@{/createTopo/{siteId}/{userId} (siteId=${site.id}, userId=${site.userId})}">
								<span><i class='fas fa-edit' style='font-size:24px'></i></span>
							</a></td>
						</tr>
					</tbody>
                    </table>
                  </div>
                  <div class="row">
                  	<div class="col-md-12 form-group text-center">
                  		<a th:href="@{/createSite(userId = ${user.id})}"><button type="button" class="btn btn-secondary">Ajouter un Site</button></a>
                  	</div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
        
        <footer class="footer bg-white shadow align-self-end py-3 px-xl-5 w-100" th:insert="fragments/componentsAdmin.html :: footer-connected"></footer>
      </div>
    </div>
    <!-- JavaScript files-->
    <th:block th:replace="fragments/componentsAdmin.html :: js-script"></th:block>
  </body>
</html>